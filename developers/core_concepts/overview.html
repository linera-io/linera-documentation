<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Overview</title>


        <!-- Custom HTML head -->

        <meta name="description" content="The Linera Developer Manual">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>Linera is a decentralized infrastructure optimized for Web3 applications that
require guaranteed performance for an unlimited number of active users.</p>
<p>The core idea of the Linera protocol is to run many lightweight blockchains,
called <strong>microchains</strong>, in parallel in a single set of validators.</p>
<h2 id="how-does-it-work"><a class="header" href="#how-does-it-work">How does it work?</a></h2>
<p>In Linera, user wallets operate their own microchains. The owner of a chain
chooses when to add new blocks to the chain and what goes inside the blocks.
Such chains with a single user are called <strong>user chains</strong>.</p>
<p>Users may add new blocks to their chains in order to process <strong>incoming
messages</strong> from other chains or to execute secure <strong>operations</strong> on their
accounts, for instance to transfer assets to another user.</p>
<p>Importantly, validators ensure that all new blocks are <strong>valid</strong>. For instance,
transfer operations must originate from accounts with sufficient funds; and
incoming messages must have been actually sent from another chain. Blocks are
verified by validators in the same way for every chain.</p>
<p>A Linera <strong>application</strong> is a Wasm program that defines its own state and
operations. Users can publish bytecode and initialize an application on one
chain, and it will be automatically deployed to all chains where it is needed,
with a separate state on each chain.</p>
<p>To ensure coordination across chains, an application may rely on asynchronous
<strong>cross-chain messages</strong>. Message payloads are application-specific and opaque
to the rest of the system.</p>
<pre><code class="language-ignore">                               ┌───┐     ┌───┐     ┌───┐
                       Chain A │   ├────►│   ├────►│   │
                               └───┘     └───┘     └───┘
                                                     ▲
                                           ┌─────────┘
                                           │
                               ┌───┐     ┌─┴─┐     ┌───┐
                       Chain B │   ├────►│   ├────►│   │
                               └───┘     └─┬─┘     └───┘
                                           │         ▲
                                           │         │
                                           ▼         │
                               ┌───┐     ┌───┐     ┌─┴─┐
                       Chain C │   ├────►│   ├────►│   │
                               └───┘     └───┘     └───┘
</code></pre>
<p>The number of applications present on a single chain is not limited. On the same
chain, applications are <strong>composed</strong> as usual using synchronous calls.</p>
<p>The current Linera SDK uses <strong>Rust</strong> as a source language to create Wasm
applications. It relies on the normal Rust toolchains so that Rust programmers
can work in their preferred environments.</p>
<h2 id="how-does-linera-compare-to-existing-multi-chain-infrastructure"><a class="header" href="#how-does-linera-compare-to-existing-multi-chain-infrastructure">How does Linera compare to existing multi-chain infrastructure?</a></h2>
<p>Linera is the first infrastructure designed to support many chains in parallel,
and notably an arbitrary number of <strong>user chains</strong> meant to be operated by user
wallets.</p>
<p>In traditional multi-chain infrastructures, each chain usually runs a full
blockchain protocol in a separate set of validators. Creating a new chain or
exchanging messages between chains is expensive. As a result, the total number
of chains is generally limited. Some chains may be specialized to a given use
case: these are called "app chains".</p>
<p>In contrast, Linera is optimized for a large number of user chains:</p>
<ul>
<li>
<p>Users only create blocks in their chain when needed;</p>
</li>
<li>
<p>Creating a microchain does not require onboarding validators;</p>
</li>
<li>
<p>All chains have the same level of security;</p>
</li>
<li>
<p>Microchains communicate efficiently using the internal networks of validators;</p>
</li>
<li>
<p>Validators are internally sharded (like a regular web service) and may adjust
their capacity elastically by adding or removing internal workers.</p>
</li>
</ul>
<blockquote>
<p>Besides user chains, the <a href="https://linera.io/whitepaper">Linera protocol</a> is
designed to support other types of microchains, called "permissioned" and
"public" chains. Public chains are operated by validators. In this regard,
they are similar to classical blockchains. Permissioned chains are meant to be
used for temporary interactions between users, such as atomic swaps.</p>
</blockquote>
<h2 id="why-build-on-top-of-linera"><a class="header" href="#why-build-on-top-of-linera">Why build on top of Linera?</a></h2>
<p>We believe that many high-value use cases are currently out of reach of existing
Web3 infrastructures because of the challenges of serving <strong>many active users</strong>
simultaneously without degrading user experience (unpredictable fees, latency,
etc).</p>
<p>Examples of applications that require processing time-sensitive transactions
created by many simultaneous users include:</p>
<ul>
<li>
<p>real-time micro-payments and micro-rewards,</p>
</li>
<li>
<p>social data feeds,</p>
</li>
<li>
<p>real-time auction systems,</p>
</li>
<li>
<p>turn-based games,</p>
</li>
<li>
<p>version control systems for software, data pipelines, or AI training
pipelines.</p>
</li>
</ul>
<p>Lightweight user chains are instrumental in providing elastic scalability but
they have other benefits as well. Because user chains have fewer blocks than
traditional blockchains, in Linera, the full-nodes of user chains will be
embedded into the users' wallets, typically deployed as a browser extension.</p>
<p>This means that Web UIs connected to a wallet will be able to query the state of
the user chain directly (no API provider, no light client) using familiar
frameworks (React/GraphQL). Furthermore, wallets will be able to leverage the
full node as well for security purposes, including to display meaningful
confirmation messages to users.</p>
<h2 id="what-is-the-current-state-of-the-development-of-linera"><a class="header" href="#what-is-the-current-state-of-the-development-of-linera">What is the current state of the development of Linera?</a></h2>
<p>The
<a href="https://github.com/linera-io/linera-protocol">reference open-source implementation</a>
of Linera is under active development. It already includes a Web3 SDK with the
necessary features to prototype simple Web3 applications and test them locally
on the same machine and deploying them to the Devnet.</p>
<p>Web UIs (possibly reactive) can already be built on top of Wasm-embedded GraphQL
services, and tested locally in the browser.</p>
<p>The main limitations of our current Web3 SDK include:</p>
<ul>
<li>
<p>Web UIs need to query a local HTTP service acting as a wallet. This setup is
meant to be temporary and for testing only: in the future, web UIs will
securely connect to a Wallet installed as a browser extension, as usual.</p>
</li>
<li>
<p>Only user chains are currently documented in this manual. Permissioned chains
(aka "temporary" chains) were recently added. Support for public chains is in
progress.</p>
</li>
</ul>
<p>The main development workstreams of Linera, beyond its SDK, can be broken down
as follows.</p>
<h3 id="core-protocol"><a class="header" href="#core-protocol">Core Protocol</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
User chains</li>
<li><input disabled="" type="checkbox" checked=""/>
Permissioned chains (core protocol only)</li>
<li><input disabled="" type="checkbox" checked=""/>
Cross-chain messages</li>
<li><input disabled="" type="checkbox" checked=""/>
Cross-chain pub/sub channels (initial version)</li>
<li><input disabled="" type="checkbox" checked=""/>
Bytecode publishing</li>
<li><input disabled="" type="checkbox" checked=""/>
Application creation</li>
<li><input disabled="" type="checkbox" checked=""/>
Reconfigurations of validators</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for gas fees</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for storage fees and storage limits</li>
<li><input disabled="" type="checkbox" checked=""/>
External service (aka. "Faucet") to help users create their first chain</li>
<li><input disabled="" type="checkbox" checked=""/>
Permissioned chains (adding operation access control, demo of atomic
swaps, etc)</li>
<li><input disabled="" type="checkbox" checked=""/>
Avoid repeatedly loading chain states from storage</li>
<li><input disabled="" type="checkbox" checked=""/>
Blob storage usable by system and user applications
(generalizing/replacing bytecode storage)</li>
<li><input disabled="" type="checkbox"/>
Support for easy onboarding of user chains into a new application
(removing the need to accept requests)</li>
<li><input disabled="" type="checkbox"/>
Replace pub/sub channels with data streams (removing the need to accept
subscriptions)</li>
<li><input disabled="" type="checkbox"/>
Allow chain clients to control which chains they track (lazily/actively)
and execute (do not execute all tracked chains)</li>
<li><input disabled="" type="checkbox"/>
Multi-signed events to facilitate future bridges to external chains</li>
<li><input disabled="" type="checkbox"/>
Public chains (adding leader election, inbox constraints, etc)</li>
<li><input disabled="" type="checkbox"/>
Transaction scripts</li>
<li><input disabled="" type="checkbox"/>
Support for dynamic shard assignment</li>
<li><input disabled="" type="checkbox"/>
Support for archiving chains</li>
<li><input disabled="" type="checkbox"/>
Tokenomics and incentives for all stakeholders</li>
<li><input disabled="" type="checkbox"/>
Governance on the admin chain (e.g. DPoS, onboarding of validators)</li>
<li><input disabled="" type="checkbox"/>
Permissionless auditing protocol</li>
</ul>
<h3 id="wasm-vm-integration"><a class="header" href="#wasm-vm-integration">Wasm VM integration</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
Support for the Wasmer VM</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for the Wasmtime VM (experimental)</li>
<li><input disabled="" type="checkbox" checked=""/>
Test gas metering and deterministic execution across VMs</li>
<li><input disabled="" type="checkbox" checked=""/>
Composing Wasm applications on the same chain</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for non-blocking (yet deterministic) calls to storage</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for read-only GraphQL services in Wasm</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for mocked system APIs</li>
<li><input disabled="" type="checkbox" checked=""/>
Improve host/guest stub generation to make mocks easier</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for running Wasm applications in the browser</li>
</ul>
<h3 id="storage"><a class="header" href="#storage">Storage</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
Object management library ("linera-views") on top of Key-Value store
abstraction</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for Rocksdb</li>
<li><input disabled="" type="checkbox" checked=""/>
Experimental support for DynamoDB</li>
<li><input disabled="" type="checkbox" checked=""/>
Derive macros for GraphQL</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for ScyllaDB</li>
<li><input disabled="" type="checkbox" checked=""/>
Make library fully extensible by users (requires better GraphQL macros)</li>
<li><input disabled="" type="checkbox" checked=""/>
In-memory storage service for testing purposes</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for Web storage (IndexedDB)</li>
<li><input disabled="" type="checkbox"/>
Performance benchmarks and improvements (including faster state hashing)</li>
<li><input disabled="" type="checkbox"/>
Better configuration management</li>
<li><input disabled="" type="checkbox"/>
Local Write-Ahead Log</li>
<li><input disabled="" type="checkbox"/>
Production-grade support for the chosen main database</li>
<li><input disabled="" type="checkbox"/>
Tooling for debugging</li>
<li><input disabled="" type="checkbox"/>
Make the storage library easy to use outside of Linera</li>
</ul>
<h3 id="validator-infrastructure"><a class="header" href="#validator-infrastructure">Validator Infrastructure</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
Simple TCP/UDP networking (used for benchmarks only)</li>
<li><input disabled="" type="checkbox" checked=""/>
GRPC networking</li>
<li><input disabled="" type="checkbox" checked=""/>
Basic frontend (aka. proxy) supporting fixed internal shards</li>
<li><input disabled="" type="checkbox" checked=""/>
Observability</li>
<li><input disabled="" type="checkbox" checked=""/>
Kubernetes support in CI</li>
<li><input disabled="" type="checkbox" checked=""/>
Deployment using a cloud provider</li>
<li><input disabled="" type="checkbox"/>
Horizontally scalable frontend (aka. proxy)</li>
<li><input disabled="" type="checkbox"/>
Dynamic shard assignment</li>
<li><input disabled="" type="checkbox"/>
Cloud integration to demonstrate elastic scaling</li>
</ul>
<h3 id="web3-sdk"><a class="header" href="#web3-sdk">Web3 SDK</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
Traits for contract and service interfaces</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for unit testing</li>
<li><input disabled="" type="checkbox" checked=""/>
Support for integration testing</li>
<li><input disabled="" type="checkbox" checked=""/>
Local GraphQL service to query and browse system state</li>
<li><input disabled="" type="checkbox" checked=""/>
Local GraphQL service to query and browse application states</li>
<li><input disabled="" type="checkbox" checked=""/>
Use GraphQL mutations to execute operations and create blocks</li>
<li><input disabled="" type="checkbox" checked=""/>
ABIs for contract and service interfaces</li>
<li><input disabled="" type="checkbox" checked=""/>
Allowing message sender to pay for message execution fees</li>
<li><input disabled="" type="checkbox" checked=""/>
Wallet as a browser extension (no VM)</li>
<li><input disabled="" type="checkbox" checked=""/>
Wallet as a browser extension (with Wasm VM)</li>
<li><input disabled="" type="checkbox"/>
Easier communication with EVM chains</li>
<li><input disabled="" type="checkbox"/>
Bindings to use native cryptographic primitives from Wasm</li>
<li><input disabled="" type="checkbox"/>
Allowing applications to pay for user fees</li>
<li><input disabled="" type="checkbox"/>
Allowing applications to use permissioned chains and public chains</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../developers/core_concepts.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../developers/core_concepts/microchains.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../developers/core_concepts.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../developers/core_concepts/microchains.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
